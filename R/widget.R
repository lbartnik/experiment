create_widget <- function (x)
{
  data <- list(
    steps = list(
      list(
        id = "1",
        type = "object",
        name = "input",
        expr = c("input <- readr::read_csv(\"halfhourly/block_62.csv\", na = \"Null\") %>% ", "    rename(meter = LCLid, timestamp = tstp, usage = `energy(kWh/hh)`) %>% ", "    filter(meter %in% c(\"MAC004929\", \"MAC000010\", \"MAC004391\"), ", "        year(timestamp) == 2013)"),
        desc = "data.frame [3x8192]"
      ),
      list(
        id = "2",
        type = "object",
        name = "input",
        expr = c("input %<>% mutate(timestamp = floor_date(timestamp, \"hours\")) %>% ", "    group_by(meter, timestamp) %>% summarise(usage = sum(usage))")
      ),
      list(
        id = "3",
        type  ="plot",
        contents ="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0\ncDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9y\nZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0cHQiIGhlaWdodD0iNTA0cHQiIHZpZXdCb3g9IjAg\nMCA1MDQgNTA0IiB2ZXJzaW9uPSIxLjEiPgo8ZGVmcz4KPGc+CjxzeW1ib2wgb3ZlcmZsb3c9\nInZpc2libGUiIGlkPSJnbHlwaDAtMCI+CjxwYXRoIHN0eWxlPSJzdHJva2U6bm9uZTsiIGQ9\nIiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBvdmVyZmxvdz0idmlzaWJsZSIgaWQ9ImdseXBoMC0x\nIj4KPHBhdGggc3R5bGU9InN0cm9rZTpub25lOyIgZD0iTSA2LjA3ODEyNSAtMS4wNDY4NzUg\nTCAxLjU5Mzc1IC0xLjA0Njg3NSBDIDEuNzAzMTI1IC0xLjczNDM3NSAyLjA5Mzc1IC0yLjE4\nNzUgMy4xMjUgLTIuNzk2ODc1IEwgNC4zMjgxMjUgLTMuNDM3NSBDIDUuNTE1NjI1IC00LjA5\nMzc1IDYuMTI1IC00Ljk2ODc1IDYuMTI1IC02LjAxNTYyNSBDIDYuMTI1IC02LjcxODc1IDUu\nODQzNzUgLTcuMzc1IDUuMzQzNzUgLTcuODQzNzUgQyA0Ljg0Mzc1IC04LjI5Njg3NSA0LjIx\nODc1IC04LjUxNTYyNSAzLjQwNjI1IC04LjUxNTYyNSBDIDIuMzI4MTI1IC04LjUxNTYyNSAx\nLjUzMTI1IC04LjEyNSAxLjA2MjUgLTcuNDA2MjUgQyAwLjc1IC02Ljk1MzEyNSAwLjYyNSAt\nNi40MjE4NzUgMC41OTM3NSAtNS41NjI1IEwgMS42NTYyNSAtNS41NjI1IEMgMS42ODc1IC02\nLjEyNSAxLjc2NTYyNSAtNi40ODQzNzUgMS45MDYyNSAtNi43NSBDIDIuMTg3NSAtNy4yNjU2\nMjUgMi43MzQzNzUgLTcuNTc4MTI1IDMuMzc1IC03LjU3ODEyNSBDIDQuMzI4MTI1IC03LjU3\nODEyNSA1LjA0Njg3NSAtNi45MDYyNSA1LjA0Njg3NSAtNS45ODQzNzUgQyA1LjA0Njg3NSAt\nNS4zMTI1IDQuNjU2MjUgLTQuNzM0Mzc1IDMuOTA2MjUgLTQuMzEyNSBMIDIuNzk2ODc1IC0z\nLjY4NzUgQyAxLjAxNTYyNSAtMi42NzE4NzUgMC41IC0xLjg3NSAwLjQwNjI1IDAgTCA2LjA3\nODEyNSAwIFogTSA2LjA3ODEyNSAtMS4wNDY4NzUgIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIG92\nZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTIiPgo8cGF0aCBzdHlsZT0ic3Ryb2tlOm5v\nbmU7IiBkPSJNIDMuOTIxODc1IC0yLjA0Njg3NSBMIDMuOTIxODc1IDAgTCA0Ljk4NDM3NSAw\nIEwgNC45ODQzNzUgLTIuMDQ2ODc1IEwgNi4yMzQzNzUgLTIuMDQ2ODc1IEwgNi4yMzQzNzUg\nLTIuOTg0Mzc1IEwgNC45ODQzNzUgLTIuOTg0Mzc1IEwgNC45ODQzNzUgLTguNTE1NjI1IEwg\nNC4yMDMxMjUgLTguNTE1NjI1IEwgMC4zNDM3NSAtMy4xNTYyNSBMIDAuMzQzNzUgLTIuMDQ2\nODc1IFogTSAzLjkyMTg3NSAtMi45ODQzNzUgTCAxLjI2NTYyNSAtMi45ODQzNzUgTCAzLjky\nMTg3NSAtNi43MDMxMjUgWiBNIDMuOTIxODc1IC0yLjk4NDM3NSAiLz4KPC9zeW1ib2w+Cjxz\neW1ib2wgb3ZlcmZsb3c9InZpc2libGUiIGlkPSJnbHlwaDAtMyI+CjxwYXRoIHN0eWxlPSJz\ndHJva2U6bm9uZTsiIGQ9Ik0gNS45Njg3NSAtNi4yODEyNSBDIDUuNzY1NjI1IC03LjY4NzUg\nNC44NTkzNzUgLTguNTE1NjI1IDMuNTYyNSAtOC41MTU2MjUgQyAyLjYyNSAtOC41MTU2MjUg\nMS43ODEyNSAtOC4wNDY4NzUgMS4yODEyNSAtNy4yOTY4NzUgQyAwLjc1IC02LjQ2ODc1IDAu\nNTE1NjI1IC01LjQyMTg3NSAwLjUxNTYyNSAtMy44NzUgQyAwLjUxNTYyNSAtMi40NTMxMjUg\nMC43MzQzNzUgLTEuNTMxMjUgMS4yMzQzNzUgLTAuNzgxMjUgQyAxLjY4NzUgLTAuMDkzNzUg\nMi40Mzc1IDAuMjgxMjUgMy4zNzUgMC4yODEyNSBDIDQuOTg0Mzc1IDAuMjgxMjUgNi4xNTYy\nNSAtMC45MjE4NzUgNi4xNTYyNSAtMi41OTM3NSBDIDYuMTU2MjUgLTQuMTcxODc1IDUuMDc4\nMTI1IC01LjI5Njg3NSAzLjU0Njg3NSAtNS4yOTY4NzUgQyAyLjcxODc1IC01LjI5Njg3NSAy\nLjA0Njg3NSAtNC45Njg3NSAxLjU5Mzc1IC00LjM0Mzc1IEMgMS42MDkzNzUgLTYuNDIxODc1\nIDIuMjgxMjUgLTcuNTc4MTI1IDMuNDg0Mzc1IC03LjU3ODEyNSBDIDQuMjM0Mzc1IC03LjU3\nODEyNSA0Ljc1IC03LjEwOTM3NSA0LjkyMTg3NSAtNi4yODEyNSBaIE0gMy40MjE4NzUgLTQu\nMzU5Mzc1IEMgNC40Mzc1IC00LjM1OTM3NSA1LjA3ODEyNSAtMy42NDA2MjUgNS4wNzgxMjUg\nLTIuNTE1NjI1IEMgNS4wNzgxMjUgLTEuNDM3NSA0LjM1OTM3NSAtMC42NTYyNSAzLjM5MDYy\nNSAtMC42NTYyNSBDIDIuNDA2MjUgLTAuNjU2MjUgMS42NTYyNSAtMS40Njg3NSAxLjY1NjI1\nIC0yLjU2MjUgQyAxLjY1NjI1IC0zLjYyNSAyLjM3NSAtNC4zNTkzNzUgMy40MjE4NzUgLTQu\nMzU5Mzc1IFogTSAzLjQyMTg3NSAtNC4zNTkzNzUgIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIG92\nZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTQiPgo8cGF0aCBzdHlsZT0ic3Ryb2tlOm5v\nbmU7IiBkPSJNIDQuNjg3NSAtNC40Njg3NSBDIDUuNTYyNSAtNSA1Ljg1OTM3NSAtNS40Mzc1\nIDUuODU5Mzc1IC02LjIzNDM3NSBDIDUuODU5Mzc1IC03LjU3ODEyNSA0LjgxMjUgLTguNTE1\nNjI1IDMuMjk2ODc1IC04LjUxNTYyNSBDIDEuNzk2ODc1IC04LjUxNTYyNSAwLjc1IC03LjU3\nODEyNSAwLjc1IC02LjIzNDM3NSBDIDAuNzUgLTUuNDUzMTI1IDEuMDMxMjUgLTUuMDE1NjI1\nIDEuODkwNjI1IC00LjQ2ODc1IEMgMC45MjE4NzUgLTQuMDE1NjI1IDAuNDM3NSAtMy4yOTY4\nNzUgMC40Mzc1IC0yLjM1OTM3NSBDIDAuNDM3NSAtMC43OTY4NzUgMS42MjUgMC4yODEyNSAz\nLjI5Njg3NSAwLjI4MTI1IEMgNC45ODQzNzUgMC4yODEyNSA2LjE1NjI1IC0wLjc5Njg3NSA2\nLjE1NjI1IC0yLjM1OTM3NSBDIDYuMTU2MjUgLTMuMjk2ODc1IDUuNjcxODc1IC00LjAxNTYy\nNSA0LjY4NzUgLTQuNDY4NzUgWiBNIDMuMjk2ODc1IC03LjU3ODEyNSBDIDQuMjAzMTI1IC03\nLjU3ODEyNSA0Ljc4MTI1IC03LjA0Njg3NSA0Ljc4MTI1IC02LjIxODc1IEMgNC43ODEyNSAt\nNS40MjE4NzUgNC4xODc1IC00Ljg5MDYyNSAzLjI5Njg3NSAtNC44OTA2MjUgQyAyLjQwNjI1\nIC00Ljg5MDYyNSAxLjgyODEyNSAtNS40MjE4NzUgMS44MjgxMjUgLTYuMjM0Mzc1IEMgMS44\nMjgxMjUgLTcuMDQ2ODc1IDIuNDA2MjUgLTcuNTc4MTI1IDMuMjk2ODc1IC03LjU3ODEyNSBa\nIE0gMy4yOTY4NzUgLTQuMDE1NjI1IEMgNC4zNTkzNzUgLTQuMDE1NjI1IDUuMDc4MTI1IC0z\nLjM0Mzc1IDUuMDc4MTI1IC0yLjM0Mzc1IEMgNS4wNzgxMjUgLTEuMzI4MTI1IDQuMzU5Mzc1\nIC0wLjY1NjI1IDMuMjgxMjUgLTAuNjU2MjUgQyAyLjI1IC0wLjY1NjI1IDEuNTMxMjUgLTEu\nMzQzNzUgMS41MzEyNSAtMi4zNDM3NSBDIDEuNTMxMjUgLTMuMzQzNzUgMi4yNSAtNC4wMTU2\nMjUgMy4yOTY4NzUgLTQuMDE1NjI1IFogTSAzLjI5Njg3NSAtNC4wMTU2MjUgIi8+Cjwvc3lt\nYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTUiPgo8cGF0aCBz\ndHlsZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIDMuMTA5Mzc1IC02LjA2MjUgTCAzLjEwOTM3NSAw\nIEwgNC4xNTYyNSAwIEwgNC4xNTYyNSAtOC41MTU2MjUgTCAzLjQ2ODc1IC04LjUxNTYyNSBD\nIDMuMDkzNzUgLTcuMjAzMTI1IDIuODU5Mzc1IC03LjAxNTYyNSAxLjIxODc1IC02LjgxMjUg\nTCAxLjIxODc1IC02LjA2MjUgWiBNIDMuMTA5Mzc1IC02LjA2MjUgIi8+Cjwvc3ltYm9sPgo8\nc3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTYiPgo8cGF0aCBzdHlsZT0i\nc3Ryb2tlOm5vbmU7IiBkPSJNIDMuMjk2ODc1IC04LjUxNTYyNSBDIDIuNTE1NjI1IC04LjUx\nNTYyNSAxLjc4MTI1IC04LjE1NjI1IDEuMzQzNzUgLTcuNTc4MTI1IEMgMC43OTY4NzUgLTYu\nODI4MTI1IDAuNTE1NjI1IC01LjY4NzUgMC41MTU2MjUgLTQuMTA5Mzc1IEMgMC41MTU2MjUg\nLTEuMjUgMS40Njg3NSAwLjI4MTI1IDMuMjk2ODc1IDAuMjgxMjUgQyA1LjA5Mzc1IDAuMjgx\nMjUgNi4wNzgxMjUgLTEuMjUgNi4wNzgxMjUgLTQuMDQ2ODc1IEMgNi4wNzgxMjUgLTUuNzAz\nMTI1IDUuODEyNSAtNi43OTY4NzUgNS4yNSAtNy41NzgxMjUgQyA0LjgxMjUgLTguMTcxODc1\nIDQuMTA5Mzc1IC04LjUxNTYyNSAzLjI5Njg3NSAtOC41MTU2MjUgWiBNIDMuMjk2ODc1IC03\nLjU3ODEyNSBDIDQuNDM3NSAtNy41NzgxMjUgNSAtNi40MjE4NzUgNSAtNC4xNDA2MjUgQyA1\nIC0xLjczNDM3NSA0LjQ1MzEyNSAtMC41OTM3NSAzLjI4MTI1IC0wLjU5Mzc1IEMgMi4xNTYy\nNSAtMC41OTM3NSAxLjU5Mzc1IC0xLjc4MTI1IDEuNTkzNzUgLTQuMTA5Mzc1IEMgMS41OTM3\nNSAtNi40Mzc1IDIuMTU2MjUgLTcuNTc4MTI1IDMuMjk2ODc1IC03LjU3ODEyNSBaIE0gMy4y\nOTY4NzUgLTcuNTc4MTI1ICIvPgo8L3N5bWJvbD4KPHN5bWJvbCBvdmVyZmxvdz0idmlzaWJs\nZSIgaWQ9ImdseXBoMC03Ij4KPHBhdGggc3R5bGU9InN0cm9rZTpub25lOyIgZD0iTSAyLjMy\nODEyNSAtOC43NSBMIDEuMjAzMTI1IC04Ljc1IEwgMS4yMDMxMjUgMCBMIDIuMzI4MTI1IDAg\nWiBNIDIuMzI4MTI1IC04Ljc1ICIvPgo8L3N5bWJvbD4KPHN5bWJvbCBvdmVyZmxvdz0idmlz\naWJsZSIgaWQ9ImdseXBoMC04Ij4KPHBhdGggc3R5bGU9InN0cm9rZTpub25lOyIgZD0iTSAw\nLjg0Mzc1IC02LjI4MTI1IEwgMC44NDM3NSAwIEwgMS44NDM3NSAwIEwgMS44NDM3NSAtMy40\nNjg3NSBDIDEuODQzNzUgLTQuNzUgMi41MTU2MjUgLTUuNTkzNzUgMy41NDY4NzUgLTUuNTkz\nNzUgQyA0LjM0Mzc1IC01LjU5Mzc1IDQuODQzNzUgLTUuMTA5Mzc1IDQuODQzNzUgLTQuMzU5\nMzc1IEwgNC44NDM3NSAwIEwgNS44NDM3NSAwIEwgNS44NDM3NSAtNC43NSBDIDUuODQzNzUg\nLTUuNzk2ODc1IDUuMDYyNSAtNi40Njg3NSAzLjg1OTM3NSAtNi40Njg3NSBDIDIuOTIxODc1\nIC02LjQ2ODc1IDIuMzEyNSAtNi4xMDkzNzUgMS43NjU2MjUgLTUuMjM0Mzc1IEwgMS43NjU2\nMjUgLTYuMjgxMjUgWiBNIDAuODQzNzUgLTYuMjgxMjUgIi8+Cjwvc3ltYm9sPgo8c3ltYm9s\nIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTkiPgo8cGF0aCBzdHlsZT0ic3Ryb2tl\nOm5vbmU7IiBkPSJNIDUuOTM3NSAtOC43NSBMIDQuOTM3NSAtOC43NSBMIDQuOTM3NSAtNS41\nIEMgNC41MzEyNSAtNi4xMjUgMy44NTkzNzUgLTYuNDY4NzUgMy4wMTU2MjUgLTYuNDY4NzUg\nQyAxLjM3NSAtNi40Njg3NSAwLjMxMjUgLTUuMTU2MjUgMC4zMTI1IC0zLjE1NjI1IEMgMC4z\nMTI1IC0xLjAzMTI1IDEuMzU5Mzc1IDAuMjgxMjUgMy4wNDY4NzUgMC4yODEyNSBDIDMuOTA2\nMjUgMC4yODEyNSA0LjUxNTYyNSAtMC4wNDY4NzUgNS4wNDY4NzUgLTAuODI4MTI1IEwgNS4w\nNDY4NzUgMCBMIDUuOTM3NSAwIFogTSAzLjE4NzUgLTUuNTMxMjUgQyA0LjI2NTYyNSAtNS41\nMzEyNSA0LjkzNzUgLTQuNTc4MTI1IDQuOTM3NSAtMy4wNzgxMjUgQyA0LjkzNzUgLTEuNjI1\nIDQuMjUgLTAuNjU2MjUgMy4xODc1IC0wLjY1NjI1IEMgMi4wOTM3NSAtMC42NTYyNSAxLjM1\nOTM3NSAtMS42MjUgMS4zNTkzNzUgLTMuMDkzNzUgQyAxLjM1OTM3NSAtNC41NjI1IDIuMDkz\nNzUgLTUuNTMxMjUgMy4xODc1IC01LjUzMTI1IFogTSAzLjE4NzUgLTUuNTMxMjUgIi8+Cjwv\nc3ltYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgwLTEwIj4KPHBh\ndGggc3R5bGU9InN0cm9rZTpub25lOyIgZD0iTSA2LjE1NjI1IC0yLjgxMjUgQyA2LjE1NjI1\nIC0zLjc2NTYyNSA2LjA3ODEyNSAtNC4zNDM3NSA1LjkwNjI1IC00LjgxMjUgQyA1LjUgLTUu\nODQzNzUgNC41MzEyNSAtNi40Njg3NSAzLjM1OTM3NSAtNi40Njg3NSBDIDEuNjA5Mzc1IC02\nLjQ2ODc1IDAuNDg0Mzc1IC01LjEyNSAwLjQ4NDM3NSAtMy4wNjI1IEMgMC40ODQzNzUgLTEg\nMS41NzgxMjUgMC4yODEyNSAzLjM0Mzc1IDAuMjgxMjUgQyA0Ljc4MTI1IDAuMjgxMjUgNS43\nNjU2MjUgLTAuNTQ2ODc1IDYuMDMxMjUgLTEuOTA2MjUgTCA1LjAxNTYyNSAtMS45MDYyNSBD\nIDQuNzM0Mzc1IC0xLjA3ODEyNSA0LjE3MTg3NSAtMC42NDA2MjUgMy4zNzUgLTAuNjQwNjI1\nIEMgMi43MzQzNzUgLTAuNjQwNjI1IDIuMjAzMTI1IC0wLjkzNzUgMS44NTkzNzUgLTEuNDY4\nNzUgQyAxLjYyNSAtMS44MjgxMjUgMS41MzEyNSAtMi4xODc1IDEuNTMxMjUgLTIuODEyNSBa\nIE0gMS41NDY4NzUgLTMuNjI1IEMgMS42MjUgLTQuNzgxMjUgMi4zNDM3NSAtNS41NDY4NzUg\nMy4zNDM3NSAtNS41NDY4NzUgQyA0LjMyODEyNSAtNS41NDY4NzUgNS4wOTM3NSAtNC43MzQz\nNzUgNS4wOTM3NSAtMy43MDMxMjUgQyA1LjA5Mzc1IC0zLjY3MTg3NSA1LjA5Mzc1IC0zLjY0\nMDYyNSA1LjA3ODEyNSAtMy42MjUgWiBNIDEuNTQ2ODc1IC0zLjYyNSAiLz4KPC9zeW1ib2w+\nCjxzeW1ib2wgb3ZlcmZsb3c9InZpc2libGUiIGlkPSJnbHlwaDAtMTEiPgo8cGF0aCBzdHls\nZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIDMuNSAtMy4yNSBMIDUuNjA5Mzc1IC02LjI4MTI1IEwg\nNC40ODQzNzUgLTYuMjgxMjUgTCAyLjk2ODc1IC00LjAxNTYyNSBMIDEuNDY4NzUgLTYuMjgx\nMjUgTCAwLjMyODEyNSAtNi4yODEyNSBMIDIuNDIxODc1IC0zLjIwMzEyNSBMIDAuMjAzMTI1\nIDAgTCAxLjM0Mzc1IDAgTCAyLjkzNzUgLTIuNDA2MjUgTCA0LjUxNTYyNSAwIEwgNS42NzE4\nNzUgMCBaIE0gMy41IC0zLjI1ICIvPgo8L3N5bWJvbD4KPHN5bWJvbCBvdmVyZmxvdz0idmlz\naWJsZSIgaWQ9ImdseXBoMS0wIj4KPHBhdGggc3R5bGU9InN0cm9rZTpub25lOyIgZD0iIi8+\nCjwvc3ltYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgxLTEiPgo8\ncGF0aCBzdHlsZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIC0xLjA0Njg3NSAtNi4wNzgxMjUgTCAt\nMS4wNDY4NzUgLTEuNTkzNzUgQyAtMS43MzQzNzUgLTEuNzAzMTI1IC0yLjE4NzUgLTIuMDkz\nNzUgLTIuNzk2ODc1IC0zLjEyNSBMIC0zLjQzNzUgLTQuMzI4MTI1IEMgLTQuMDkzNzUgLTUu\nNTE1NjI1IC00Ljk2ODc1IC02LjEyNSAtNi4wMTU2MjUgLTYuMTI1IEMgLTYuNzE4NzUgLTYu\nMTI1IC03LjM3NSAtNS44NDM3NSAtNy44NDM3NSAtNS4zNDM3NSBDIC04LjI5Njg3NSAtNC44\nNDM3NSAtOC41MTU2MjUgLTQuMjE4NzUgLTguNTE1NjI1IC0zLjQwNjI1IEMgLTguNTE1NjI1\nIC0yLjMyODEyNSAtOC4xMjUgLTEuNTMxMjUgLTcuNDA2MjUgLTEuMDYyNSBDIC02Ljk1MzEy\nNSAtMC43NSAtNi40MjE4NzUgLTAuNjI1IC01LjU2MjUgLTAuNTkzNzUgTCAtNS41NjI1IC0x\nLjY1NjI1IEMgLTYuMTI1IC0xLjY4NzUgLTYuNDg0Mzc1IC0xLjc2NTYyNSAtNi43NSAtMS45\nMDYyNSBDIC03LjI2NTYyNSAtMi4xODc1IC03LjU3ODEyNSAtMi43MzQzNzUgLTcuNTc4MTI1\nIC0zLjM3NSBDIC03LjU3ODEyNSAtNC4zMjgxMjUgLTYuOTA2MjUgLTUuMDQ2ODc1IC01Ljk4\nNDM3NSAtNS4wNDY4NzUgQyAtNS4zMTI1IC01LjA0Njg3NSAtNC43MzQzNzUgLTQuNjU2MjUg\nLTQuMzEyNSAtMy45MDYyNSBMIC0zLjY4NzUgLTIuNzk2ODc1IEMgLTIuNjcxODc1IC0xLjAx\nNTYyNSAtMS44NzUgLTAuNSAwIC0wLjQwNjI1IEwgMCAtNi4wNzgxMjUgWiBNIC0xLjA0Njg3\nNSAtNi4wNzgxMjUgIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBp\nZD0iZ2x5cGgxLTIiPgo8cGF0aCBzdHlsZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIC0yLjA0Njg3\nNSAtMy45MjE4NzUgTCAwIC0zLjkyMTg3NSBMIDAgLTQuOTg0Mzc1IEwgLTIuMDQ2ODc1IC00\nLjk4NDM3NSBMIC0yLjA0Njg3NSAtNi4yMzQzNzUgTCAtMi45ODQzNzUgLTYuMjM0Mzc1IEwg\nLTIuOTg0Mzc1IC00Ljk4NDM3NSBMIC04LjUxNTYyNSAtNC45ODQzNzUgTCAtOC41MTU2MjUg\nLTQuMjAzMTI1IEwgLTMuMTU2MjUgLTAuMzQzNzUgTCAtMi4wNDY4NzUgLTAuMzQzNzUgWiBN\nIC0yLjk4NDM3NSAtMy45MjE4NzUgTCAtMi45ODQzNzUgLTEuMjY1NjI1IEwgLTYuNzAzMTI1\nIC0zLjkyMTg3NSBaIE0gLTIuOTg0Mzc1IC0zLjkyMTg3NSAiLz4KPC9zeW1ib2w+CjxzeW1i\nb2wgb3ZlcmZsb3c9InZpc2libGUiIGlkPSJnbHlwaDEtMyI+CjxwYXRoIHN0eWxlPSJzdHJv\na2U6bm9uZTsiIGQ9Ik0gLTYuMjgxMjUgLTUuOTY4NzUgQyAtNy42ODc1IC01Ljc2NTYyNSAt\nOC41MTU2MjUgLTQuODU5Mzc1IC04LjUxNTYyNSAtMy41NjI1IEMgLTguNTE1NjI1IC0yLjYy\nNSAtOC4wNDY4NzUgLTEuNzgxMjUgLTcuMjk2ODc1IC0xLjI4MTI1IEMgLTYuNDY4NzUgLTAu\nNzUgLTUuNDIxODc1IC0wLjUxNTYyNSAtMy44NzUgLTAuNTE1NjI1IEMgLTIuNDUzMTI1IC0w\nLjUxNTYyNSAtMS41MzEyNSAtMC43MzQzNzUgLTAuNzgxMjUgLTEuMjM0Mzc1IEMgLTAuMDkz\nNzUgLTEuNjg3NSAwLjI4MTI1IC0yLjQzNzUgMC4yODEyNSAtMy4zNzUgQyAwLjI4MTI1IC00\nLjk4NDM3NSAtMC45MjE4NzUgLTYuMTU2MjUgLTIuNTkzNzUgLTYuMTU2MjUgQyAtNC4xNzE4\nNzUgLTYuMTU2MjUgLTUuMjk2ODc1IC01LjA3ODEyNSAtNS4yOTY4NzUgLTMuNTQ2ODc1IEMg\nLTUuMjk2ODc1IC0yLjcxODc1IC00Ljk2ODc1IC0yLjA0Njg3NSAtNC4zNDM3NSAtMS41OTM3\nNSBDIC02LjQyMTg3NSAtMS42MDkzNzUgLTcuNTc4MTI1IC0yLjI4MTI1IC03LjU3ODEyNSAt\nMy40ODQzNzUgQyAtNy41NzgxMjUgLTQuMjM0Mzc1IC03LjEwOTM3NSAtNC43NSAtNi4yODEy\nNSAtNC45MjE4NzUgWiBNIC00LjM1OTM3NSAtMy40MjE4NzUgQyAtNC4zNTkzNzUgLTQuNDM3\nNSAtMy42NDA2MjUgLTUuMDc4MTI1IC0yLjUxNTYyNSAtNS4wNzgxMjUgQyAtMS40Mzc1IC01\nLjA3ODEyNSAtMC42NTYyNSAtNC4zNTkzNzUgLTAuNjU2MjUgLTMuMzkwNjI1IEMgLTAuNjU2\nMjUgLTIuNDA2MjUgLTEuNDY4NzUgLTEuNjU2MjUgLTIuNTYyNSAtMS42NTYyNSBDIC0zLjYy\nNSAtMS42NTYyNSAtNC4zNTkzNzUgLTIuMzc1IC00LjM1OTM3NSAtMy40MjE4NzUgWiBNIC00\nLjM1OTM3NSAtMy40MjE4NzUgIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNp\nYmxlIiBpZD0iZ2x5cGgxLTQiPgo8cGF0aCBzdHlsZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIC00\nLjQ2ODc1IC00LjY4NzUgQyAtNSAtNS41NjI1IC01LjQzNzUgLTUuODU5Mzc1IC02LjIzNDM3\nNSAtNS44NTkzNzUgQyAtNy41NzgxMjUgLTUuODU5Mzc1IC04LjUxNTYyNSAtNC44MTI1IC04\nLjUxNTYyNSAtMy4yOTY4NzUgQyAtOC41MTU2MjUgLTEuNzk2ODc1IC03LjU3ODEyNSAtMC43\nNSAtNi4yMzQzNzUgLTAuNzUgQyAtNS40NTMxMjUgLTAuNzUgLTUuMDE1NjI1IC0xLjAzMTI1\nIC00LjQ2ODc1IC0xLjg5MDYyNSBDIC00LjAxNTYyNSAtMC45MjE4NzUgLTMuMjk2ODc1IC0w\nLjQzNzUgLTIuMzU5Mzc1IC0wLjQzNzUgQyAtMC43OTY4NzUgLTAuNDM3NSAwLjI4MTI1IC0x\nLjYyNSAwLjI4MTI1IC0zLjI5Njg3NSBDIDAuMjgxMjUgLTQuOTg0Mzc1IC0wLjc5Njg3NSAt\nNi4xNTYyNSAtMi4zNTkzNzUgLTYuMTU2MjUgQyAtMy4yOTY4NzUgLTYuMTU2MjUgLTQuMDE1\nNjI1IC01LjY3MTg3NSAtNC40Njg3NSAtNC42ODc1IFogTSAtNy41NzgxMjUgLTMuMjk2ODc1\nIEMgLTcuNTc4MTI1IC00LjIwMzEyNSAtNy4wNDY4NzUgLTQuNzgxMjUgLTYuMjE4NzUgLTQu\nNzgxMjUgQyAtNS40MjE4NzUgLTQuNzgxMjUgLTQuODkwNjI1IC00LjE4NzUgLTQuODkwNjI1\nIC0zLjI5Njg3NSBDIC00Ljg5MDYyNSAtMi40MDYyNSAtNS40MjE4NzUgLTEuODI4MTI1IC02\nLjIzNDM3NSAtMS44MjgxMjUgQyAtNy4wNDY4NzUgLTEuODI4MTI1IC03LjU3ODEyNSAtMi40\nMDYyNSAtNy41NzgxMjUgLTMuMjk2ODc1IFogTSAtNC4wMTU2MjUgLTMuMjk2ODc1IEMgLTQu\nMDE1NjI1IC00LjM1OTM3NSAtMy4zNDM3NSAtNS4wNzgxMjUgLTIuMzQzNzUgLTUuMDc4MTI1\nIEMgLTEuMzI4MTI1IC01LjA3ODEyNSAtMC42NTYyNSAtNC4zNTkzNzUgLTAuNjU2MjUgLTMu\nMjgxMjUgQyAtMC42NTYyNSAtMi4yNSAtMS4zNDM3NSAtMS41MzEyNSAtMi4zNDM3NSAtMS41\nMzEyNSBDIC0zLjM0Mzc1IC0xLjUzMTI1IC00LjAxNTYyNSAtMi4yNSAtNC4wMTU2MjUgLTMu\nMjk2ODc1IFogTSAtNC4wMTU2MjUgLTMuMjk2ODc1ICIvPgo8L3N5bWJvbD4KPHN5bWJvbCBv\ndmVyZmxvdz0idmlzaWJsZSIgaWQ9ImdseXBoMS01Ij4KPHBhdGggc3R5bGU9InN0cm9rZTpu\nb25lOyIgZD0iTSAtNi4wNjI1IC0zLjEwOTM3NSBMIDAgLTMuMTA5Mzc1IEwgMCAtNC4xNTYy\nNSBMIC04LjUxNTYyNSAtNC4xNTYyNSBMIC04LjUxNTYyNSAtMy40Njg3NSBDIC03LjIwMzEy\nNSAtMy4wOTM3NSAtNy4wMTU2MjUgLTIuODU5Mzc1IC02LjgxMjUgLTEuMjE4NzUgTCAtNi4w\nNjI1IC0xLjIxODc1IFogTSAtNi4wNjI1IC0zLjEwOTM3NSAiLz4KPC9zeW1ib2w+CjxzeW1i\nb2wgb3ZlcmZsb3c9InZpc2libGUiIGlkPSJnbHlwaDEtNiI+CjxwYXRoIHN0eWxlPSJzdHJv\na2U6bm9uZTsiIGQ9Ik0gLTguNTE1NjI1IC0zLjI5Njg3NSBDIC04LjUxNTYyNSAtMi41MTU2\nMjUgLTguMTU2MjUgLTEuNzgxMjUgLTcuNTc4MTI1IC0xLjM0Mzc1IEMgLTYuODI4MTI1IC0w\nLjc5Njg3NSAtNS42ODc1IC0wLjUxNTYyNSAtNC4xMDkzNzUgLTAuNTE1NjI1IEMgLTEuMjUg\nLTAuNTE1NjI1IDAuMjgxMjUgLTEuNDY4NzUgMC4yODEyNSAtMy4yOTY4NzUgQyAwLjI4MTI1\nIC01LjA5Mzc1IC0xLjI1IC02LjA3ODEyNSAtNC4wNDY4NzUgLTYuMDc4MTI1IEMgLTUuNzAz\nMTI1IC02LjA3ODEyNSAtNi43OTY4NzUgLTUuODEyNSAtNy41NzgxMjUgLTUuMjUgQyAtOC4x\nNzE4NzUgLTQuODEyNSAtOC41MTU2MjUgLTQuMTA5Mzc1IC04LjUxNTYyNSAtMy4yOTY4NzUg\nWiBNIC03LjU3ODEyNSAtMy4yOTY4NzUgQyAtNy41NzgxMjUgLTQuNDM3NSAtNi40MjE4NzUg\nLTUgLTQuMTQwNjI1IC01IEMgLTEuNzM0Mzc1IC01IC0wLjU5Mzc1IC00LjQ1MzEyNSAtMC41\nOTM3NSAtMy4yODEyNSBDIC0wLjU5Mzc1IC0yLjE1NjI1IC0xLjc4MTI1IC0xLjU5Mzc1IC00\nLjEwOTM3NSAtMS41OTM3NSBDIC02LjQzNzUgLTEuNTkzNzUgLTcuNTc4MTI1IC0yLjE1NjI1\nIC03LjU3ODEyNSAtMy4yOTY4NzUgWiBNIC03LjU3ODEyNSAtMy4yOTY4NzUgIi8+Cjwvc3lt\nYm9sPgo8c3ltYm9sIG92ZXJmbG93PSJ2aXNpYmxlIiBpZD0iZ2x5cGgxLTciPgo8cGF0aCBz\ndHlsZT0ic3Ryb2tlOm5vbmU7IiBkPSJNIC0xLjI1IC0yLjU2MjUgTCAtMS4yNSAtMS4zMTI1\nIEwgMCAtMS4zMTI1IEwgMCAtMi41NjI1IFogTSAtNi4yODEyNSAtMi41NjI1IEwgLTYuMjgx\nMjUgLTEuMzEyNSBMIC01LjA0Njg3NSAtMS4zMTI1IEwgLTUuMDQ2ODc1IC0yLjU2MjUgWiBN\nIC02LjI4MTI1IC0yLjU2MjUgIi8+Cjwvc3ltYm9sPgo8L2c+CjwvZGVmcz4KPGcgaWQ9InN1\ncmZhY2UxMDAiPgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIg\nc3R5bGU9ImZpbGw6cmdiKDEwMCUsMTAwJSwxMDAlKTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6\nbm9uZTsiLz4KPHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6MC43NTtzdHJv\na2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOnJnYigwJSww\nJSwwJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gNzcu\nMTAxNTYyIDQxNi44MDA3ODEgQyA3Ny4xMDE1NjIgNDIwLjM5ODQzOCA3MS42OTkyMTkgNDIw\nLjM5ODQzOCA3MS42OTkyMTkgNDE2LjgwMDc4MSBDIDcxLjY5OTIxOSA0MTMuMTk5MjE5IDc3\nLjEwMTU2MiA0MTMuMTk5MjE5IDc3LjEwMTU2MiA0MTYuODAwNzgxICIvPgo8cGF0aCBzdHls\nZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0\ncm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0\neToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSAxMTkuNzY1NjI1IDM3OC41NzgxMjUg\nQyAxMTkuNzY1NjI1IDM4Mi4xNzk2ODggMTE0LjM2NzE4OCAzODIuMTc5Njg4IDExNC4zNjcx\nODggMzc4LjU3ODEyNSBDIDExNC4zNjcxODggMzc0Ljk3NjU2MiAxMTkuNzY1NjI1IDM3NC45\nNzY1NjIgMTE5Ljc2NTYyNSAzNzguNTc4MTI1ICIvPgo8cGF0aCBzdHlsZT0iZmlsbDpub25l\nO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9p\nbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1t\naXRlcmxpbWl0OjEwOyIgZD0iTSAxNjIuNDMzNTk0IDM0MC4zNTU0NjkgQyAxNjIuNDMzNTk0\nIDM0My45NTcwMzEgMTU3LjAzNTE1NiAzNDMuOTU3MDMxIDE1Ny4wMzUxNTYgMzQwLjM1NTQ2\nOSBDIDE1Ny4wMzUxNTYgMzM2Ljc1MzkwNiAxNjIuNDMzNTk0IDMzNi43NTM5MDYgMTYyLjQz\nMzU5NCAzNDAuMzU1NDY5ICIvPgo8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0\naDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJv\na2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEw\nOyIgZD0iTSAyMDUuMTAxNTYyIDMwMi4xMzI4MTIgQyAyMDUuMTAxNTYyIDMwNS43MzQzNzUg\nMTk5LjY5OTIxOSAzMDUuNzM0Mzc1IDE5OS42OTkyMTkgMzAyLjEzMjgxMiBDIDE5OS42OTky\nMTkgMjk4LjUzNTE1NiAyMDUuMTAxNTYyIDI5OC41MzUxNTYgMjA1LjEwMTU2MiAzMDIuMTMy\nODEyICIvPgo8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9r\nZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAl\nLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSAyNDcu\nNzY1NjI1IDI2My45MTAxNTYgQyAyNDcuNzY1NjI1IDI2Ny41MTE3MTkgMjQyLjM2NzE4OCAy\nNjcuNTExNzE5IDI0Mi4zNjcxODggMjYzLjkxMDE1NiBDIDI0Mi4zNjcxODggMjYwLjMxMjUg\nMjQ3Ljc2NTYyNSAyNjAuMzEyNSAyNDcuNzY1NjI1IDI2My45MTAxNTYgIi8+CjxwYXRoIHN0\neWxlPSJmaWxsOm5vbmU7c3Ryb2tlLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7\nc3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFj\naXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6MTA7IiBkPSJNIDI5MC40MzM1OTQgMjI1LjY4NzUg\nQyAyOTAuNDMzNTk0IDIyOS4yODkwNjIgMjg1LjAzNTE1NiAyMjkuMjg5MDYyIDI4NS4wMzUx\nNTYgMjI1LjY4NzUgQyAyODUuMDM1MTU2IDIyMi4wODk4NDQgMjkwLjQzMzU5NCAyMjIuMDg5\nODQ0IDI5MC40MzM1OTQgMjI1LjY4NzUgIi8+CjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7c3Ry\nb2tlLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJv\ndW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVy\nbGltaXQ6MTA7IiBkPSJNIDMzMy4xMDE1NjIgMTg3LjQ2NDg0NCBDIDMzMy4xMDE1NjIgMTkx\nLjA2NjQwNiAzMjcuNjk5MjE5IDE5MS4wNjY0MDYgMzI3LjY5OTIxOSAxODcuNDY0ODQ0IEMg\nMzI3LjY5OTIxOSAxODMuODY3MTg4IDMzMy4xMDE1NjIgMTgzLjg2NzE4OCAzMzMuMTAxNTYy\nIDE4Ny40NjQ4NDQgIi8+CjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLXdpZHRoOjAu\nNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTpy\nZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6MTA7IiBk\nPSJNIDM3NS43NjU2MjUgMTQ5LjI0NjA5NCBDIDM3NS43NjU2MjUgMTUyLjg0Mzc1IDM3MC4z\nNjcxODggMTUyLjg0Mzc1IDM3MC4zNjcxODggMTQ5LjI0NjA5NCBDIDM3MC4zNjcxODggMTQ1\nLjY0NDUzMSAzNzUuNzY1NjI1IDE0NS42NDQ1MzEgMzc1Ljc2NTYyNSAxNDkuMjQ2MDk0ICIv\nPgo8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5l\nY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtz\ndHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA0MTguNDMzNTk0\nIDExMS4wMjM0MzggQyA0MTguNDMzNTk0IDExNC42MjEwOTQgNDEzLjAzNTE1NiAxMTQuNjIx\nMDk0IDQxMy4wMzUxNTYgMTExLjAyMzQzOCBDIDQxMy4wMzUxNTYgMTA3LjQyMTg3NSA0MTgu\nNDMzNTk0IDEwNy40MjE4NzUgNDE4LjQzMzU5NCAxMTEuMDIzNDM4ICIvPgo8cGF0aCBzdHls\nZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0\ncm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0\neToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA0NjEuMTAxNTYyIDcyLjgwMDc4MSBD\nIDQ2MS4xMDE1NjIgNzYuMzk4NDM4IDQ1NS42OTkyMTkgNzYuMzk4NDM4IDQ1NS42OTkyMTkg\nNzIuODAwNzgxIEMgNDU1LjY5OTIxOSA2OS4xOTkyMTkgNDYxLjEwMTU2MiA2OS4xOTkyMTkg\nNDYxLjEwMTU2MiA3Mi44MDA3ODEgIi8+CjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tl\nLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5k\nO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGlt\naXQ6MTA7IiBkPSJNIDExNy4wNjY0MDYgNDMwLjU1ODU5NCBMIDQ1OC4zOTg0MzggNDMwLjU1\nODU5NCAiLz4KPHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6MC43NTtzdHJv\na2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOnJnYigwJSww\nJSwwJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gMTE3\nLjA2NjQwNiA0MzAuNTU4NTk0IEwgMTE3LjA2NjQwNiA0MzcuNzYxNzE5ICIvPgo8cGF0aCBz\ndHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5k\nO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3Bh\nY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSAyMDIuMzk4NDM4IDQzMC41NTg1\nOTQgTCAyMDIuMzk4NDM4IDQzNy43NjE3MTkgIi8+CjxwYXRoIHN0eWxlPSJmaWxsOm5vbmU7\nc3Ryb2tlLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2lu\nOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLW1p\ndGVybGltaXQ6MTA7IiBkPSJNIDI4Ny43MzQzNzUgNDMwLjU1ODU5NCBMIDI4Ny43MzQzNzUg\nNDM3Ljc2MTcxOSAiLz4KPHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6MC43\nNTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOnJn\nYigwJSwwJSwwJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9\nIk0gMzczLjA2NjQwNiA0MzAuNTU4NTk0IEwgMzczLjA2NjQwNiA0MzcuNzYxNzE5ICIvPgo8\ncGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2Fw\nOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJv\na2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA0NTguMzk4NDM4IDQz\nMC41NTg1OTQgTCA0NTguMzk4NDM4IDQzNy43NjE3MTkgIi8+CjxnIHN0eWxlPSJmaWxsOnJn\nYigwJSwwJSwwJSk7ZmlsbC1vcGFjaXR5OjE7Ij4KICA8dXNlIHhsaW5rOmhyZWY9IiNnbHlw\naDAtMSIgeD0iMTEzLjU2NjQwNiIgeT0iNDU1LjkxNjAxNiIvPgo8L2c+CjxnIHN0eWxlPSJm\naWxsOnJnYigwJSwwJSwwJSk7ZmlsbC1vcGFjaXR5OjE7Ij4KICA8dXNlIHhsaW5rOmhyZWY9\nIiNnbHlwaDAtMiIgeD0iMTk4Ljg5ODQzOCIgeT0iNDU1LjkxNjAxNiIvPgo8L2c+CjxnIHN0\neWxlPSJmaWxsOnJnYigwJSwwJSwwJSk7ZmlsbC1vcGFjaXR5OjE7Ij4KICA8dXNlIHhsaW5r\nOmhyZWY9IiNnbHlwaDAtMyIgeD0iMjg0LjIzNDM3NSIgeT0iNDU1LjkxNjAxNiIvPgo8L2c+\nCjxnIHN0eWxlPSJmaWxsOnJnYigwJSwwJSwwJSk7ZmlsbC1vcGFjaXR5OjE7Ij4KICA8dXNl\nIHhsaW5rOmhyZWY9IiNnbHlwaDAtNCIgeD0iMzY5LjU2NjQwNiIgeT0iNDU1LjkxNjAxNiIv\nPgo8L2c+CjxnIHN0eWxlPSJmaWxsOnJnYigwJSwwJSwwJSk7ZmlsbC1vcGFjaXR5OjE7Ij4K\nICA8dXNlIHhsaW5rOmhyZWY9IiNnbHlwaDAtNSIgeD0iNDUxLjM5ODQzOCIgeT0iNDU1Ljkx\nNjAxNiIvPgogIDx1c2UgeGxpbms6aHJlZj0iI2dseXBoMC02IiB4PSI0NTguMDcwMzEyIiB5\nPSI0NTUuOTE2MDE2Ii8+CjwvZz4KPHBhdGggc3R5bGU9ImZpbGw6bm9uZTtzdHJva2Utd2lk\ndGg6MC43NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ry\nb2tlOnJnYigwJSwwJSwwJSk7c3Ryb2tlLW9wYWNpdHk6MTtzdHJva2UtbWl0ZXJsaW1pdDox\nMDsiIGQ9Ik0gNTkuMDM5MDYyIDM3OC41NzgxMjUgTCA1OS4wMzkwNjIgNzIuODAwNzgxICIv\nPgo8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5l\nY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtz\ndHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA1OS4wMzkwNjIg\nMzc4LjU3ODEyNSBMIDUxLjgzOTg0NCAzNzguNTc4MTI1ICIvPgo8cGF0aCBzdHlsZT0iZmls\nbDpub25lO3N0cm9rZS13aWR0aDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1s\naW5lam9pbjpyb3VuZDtzdHJva2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0\ncm9rZS1taXRlcmxpbWl0OjEwOyIgZD0iTSA1OS4wMzkwNjIgMzAyLjEzMjgxMiBMIDUxLjgz\nOTg0NCAzMDIuMTMyODEyICIvPgo8cGF0aCBzdHlsZT0iZmlsbDpub25lO3N0cm9rZS13aWR0\naDowLjc1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJv\na2U6cmdiKDAlLDAlLDAlKTtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1taXRlcmxpbWl0OjEw\nOyIgZD0iTSA1OS4wMzkwNjIgMjI1LjY4NzUgTCA1MS44Mzk4NDQgMjI1LjY4NzUgIi8+Cjxw\nYXRoIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6\ncm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9r\nZS1vcGFjaXR5OjE7c3Ryb2tlLW1pdGVybGltaXQ6MTA7IiBkPSJNIDU5LjAzOTA2MiAxNDku\nMjQ2MDk0IEwgNTEuODM5ODQ0IDE0OS4yNDYwOTQgIi8+CjxwYXRoIHN0eWxlPSJmaWxsOm5v\nbmU7c3Ryb2tlLXdpZHRoOjAuNzU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVq\nb2luOnJvdW5kO3N0cm9rZTpyZ2IoMCUsMCUsMCUpO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tl\nLW1pdGVybGltaXQ6MTA7IiBkPSJNIDU5LjAzOTA2MiA3Mi44MDA3ODEgTCA1MS44Mzk4NDQg\nNzIuODAwNzgxICIvPgo8ZyBzdHlsZT0iZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwtb3BhY2l0\neToxOyI+CiAgPHVzZSB4bGluazpocmVmPSIjZ2x5cGgxLTEiIHg9IjQxLjE5NzI2NiIgeT0i\nMzgyLjA3ODEyNSIvPgo8L2c+CjxnIHN0eWxlPSJmaWxsOnJnYigwJSwwJSwwJSk7ZmlsbC1v\ncGFjaXR5OjE7Ij4KICA8dXNlIHhsaW5rOmhyZWY9IiNnbHlwaDEtMiIgeD0iNDEuMTk3MjY2\nIiB5PSIzMDUuNjMyODEyIi8+CjwvZz4KPGcgc3R5bGU9ImZpbGw6cmdiKDAlLDAlLDAlKTtm\naWxsLW9wYWNpdHk6MTsiPgogIDx1c2UgeGxpbms6aHJlZj0iI2dseXBoMS0zIiB4PSI0MS4x\nOTcyNjYiIHk9IjIyOS4xODc1Ii8+CjwvZz4KPGcgc3R5bGU9ImZpbGw6cmdiKDAlLDAlLDAl\nKTtmaWxsLW9wYWNpdHk6MTsiPgogIDx1c2UgeGxpbms6aHJlZj0iI2dseXBoMS00IiB4PSI0\nMS4xOTcyNjYiIHk9IjE1Mi43NDYwOTQiLz4KPC9nPgo8ZyBzdHlsZT0iZmlsbDpyZ2IoMCUs\nMCUsMCUpO2ZpbGwtb3BhY2l0eToxOyI+CiAgPHVzZSB4bGluazpocmVmPSIjZ2x5cGgxLTUi\nIHg9IjQxLjE5NzI2NiIgeT0iNzkuODAwNzgxIi8+CiAgPHVzZSB4bGluazpocmVmPSIjZ2x5\ncGgxLTYiIHg9IjQxLjE5NzI2NiIgeT0iNzMuMTI4OTA2Ii8+CjwvZz4KPHBhdGggc3R5bGU9\nImZpbGw6bm9uZTtzdHJva2Utd2lkdGg6MC43NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJv\na2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlOnJnYigwJSwwJSwwJSk7c3Ryb2tlLW9wYWNpdHk6\nMTtzdHJva2UtbWl0ZXJsaW1pdDoxMDsiIGQ9Ik0gNTkuMDM5MDYyIDQzMC41NTg1OTQgTCA0\nNzMuNzYxNzE5IDQzMC41NTg1OTQgTCA0NzMuNzYxNzE5IDU5LjAzOTA2MiBMIDU5LjAzOTA2\nMiA1OS4wMzkwNjIgTCA1OS4wMzkwNjIgNDMwLjU1ODU5NCAiLz4KPGcgc3R5bGU9ImZpbGw6\ncmdiKDAlLDAlLDAlKTtmaWxsLW9wYWNpdHk6MTsiPgogIDx1c2UgeGxpbms6aHJlZj0iI2ds\neXBoMC03IiB4PSIyNTEuMzk4NDM4IiB5PSI0ODQuNzE2Nzk3Ii8+CiAgPHVzZSB4bGluazpo\ncmVmPSIjZ2x5cGgwLTgiIHg9IjI1NC43MzQzNzUiIHk9IjQ4NC43MTY3OTciLz4KICA8dXNl\nIHhsaW5rOmhyZWY9IiNnbHlwaDAtOSIgeD0iMjYxLjQwNjI1IiB5PSI0ODQuNzE2Nzk3Ii8+\nCiAgPHVzZSB4bGluazpocmVmPSIjZ2x5cGgwLTEwIiB4PSIyNjguMDc4MTI1IiB5PSI0ODQu\nNzE2Nzk3Ii8+CiAgPHVzZSB4bGluazpocmVmPSIjZ2x5cGgwLTExIiB4PSIyNzQuNzUiIHk9\nIjQ4NC43MTY3OTciLz4KPC9nPgo8ZyBzdHlsZT0iZmlsbDpyZ2IoMCUsMCUsMCUpO2ZpbGwt\nb3BhY2l0eToxOyI+CiAgPHVzZSB4bGluazpocmVmPSIjZ2x5cGgxLTUiIHg9IjEyLjM5NjQ4\nNCIgeT0iMjU2LjgwMDc4MSIvPgogIDx1c2UgeGxpbms6aHJlZj0iI2dseXBoMS03IiB4PSIx\nMi4zOTY0ODQiIHk9IjI1MC4xMjg5MDYiLz4KICA8dXNlIHhsaW5rOmhyZWY9IiNnbHlwaDEt\nNSIgeD0iMTIuMzk2NDg0IiB5PSIyNDYuNzkyOTY5Ii8+CiAgPHVzZSB4bGluazpocmVmPSIj\nZ2x5cGgxLTYiIHg9IjEyLjM5NjQ4NCIgeT0iMjQwLjEyMTA5NCIvPgo8L2c+CjwvZz4KPC9z\ndmc+Cg==",
        expr = c("with(filter(input, meter == \"MAC004929\"), plot(timestamp, usage, ", "    type = \"p\", pch = \".\"))")
      )
    ),
    links = list(
      list(target = 2, source = 1),
      list(target = 3, source = 2)
    )
  )

  deps <- extract_html_dependencies(data)
  # browser()

  htmlwidgets::createWidget("experiment", 'data', dependencies = deps)
}


extract_html_dependencies <- function (data)
{
  html_dir <- file.path(tempdir(), 'experiment-html-deps')
  dir.create(html_dir, showWarnings = FALSE)

  data$steps <- lapply(data$steps, function (step) {
    if (!identical(step$type, "plot")) return(step)
    rsvg::rsvg_png(jsonlite::base64_dec(step$contents),
                   file.path(html_dir, paste0(step$id, '_min.png')),
                   height = 300)
    step$contents <- paste0(step$id, '_min.png')
    step
  })

  plots <- Filter(function (step) identical(step$type, 'plot'), data$steps)
  ids   <- vapply(plots, `[[`, character(1), i = 'id')
  plots <- vapply(plots, `[[`, character(1), i = 'contents')
  names(plots) <- ids

  jsonlite::write_json(unclass(data), file.path(html_dir, 'data.json'),
                       pretty = TRUE, auto_unbox = TRUE)

  list(
    htmltools::htmlDependency(
      'data',
      version = "1",
      src = html_dir,
      attachment = list(data = 'data.json')
    ),
    htmltools::htmlDependency(
      "plots",
      version = "1",
      src = html_dir,
      attachment = plots
    )
  )
}

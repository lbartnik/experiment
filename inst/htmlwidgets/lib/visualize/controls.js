"use strict";

// Generated by CoffeeScript 2.0.3
(function () {
  var Controls;

  Controls = function Controls(selection) {
    var controls, minus, outer, plus;
    outer = null;
    plus = null;
    minus = null;
    controls = function controls() {};
    controls.initialize = function () {
      outer = $("<div>", {
        class: "controls"
      }).appendTo(selection);
      plus = $("<div>", {
        class: "button",
        id: "plus"
      }).appendTo(outer).text("+");
      return minus = $("<div>", {
        class: "button",
        id: "minus"
      }).appendTo(outer).text("-");
    };
    controls.on = function (event, callback) {
      var zoom;
      if (event === 'zoom:in') {
        plus.on('click', callback);
      }
      if (event === 'zoom:out') {
        minus.on('click', callback);
      }
      if (event === 'zoom') {
        zoom = d3.zoom().scaleExtent([.1, 2]).on("zoom", function () {
          return callback(1 / d3.event.transform.k);
        });
        d3.select("#plus").call(zoom).on("dblclick.zoom", null);
        return d3.select("#minus").call(zoom).on("dblclick.zoom", null);
      }
    };
    controls.initialize();
    return controls;
  };

  window.Controls = Controls;
}).call(undefined);